# === Core ===
# Use torch/vision/audio from the base image to keep CUDA compatibility

# === Reinforcement Learning stack ===
torchrl==0.7.*               # latest stable for Torch 2.7, includes C++ extension fixes
tensordict==0.7.*            # TorchRL dependency aligned with torch 2.7
gymnasium==0.29.*            # compatible with FetchReach-v2 and Minari 0.4
gymnasium-robotics==1.2.4    # FetchReach-v2 env (requires mujoco<3.0, gymnasium>=0.28)
minari==0.4.*                # compatible with gymnasium 0.29
dm_env==1.6                  # used by some TorchRL wrappers

# === Hydra & HPO ===
hydra-core==1.3.*
omegaconf==2.3.*
hydra-optuna-sweeper==1.2.0
optuna>=2.10.1,<3.0.0        # pinned for hydra-optuna-sweeper 1.2.0 compatibility
SQLAlchemy<2.0


# === Logging ===
tqdm==4.*
rich==13.*

# === Data / Utils ===
numpy>=1.24
pandas>=2.0
scipy>=1.11
pyyaml>=6.0
matplotlib>=3.8              # optional for debug viz

# === Environment helpers ===
# (fetch environments and similar robotics)
mujoco>=2.3.3,<3.0           # needed by gymnasium-robotics 1.2.4 (FetchReach-v2)
pygame==2.5.2                # optional; for visual envs
imageio==2.34
imageio-ffmpeg>=0.4
opencv-python-headless>=4.10 # for rendering in headless docker

# === Docker safety / reproducibility ===
# versions below ensure deterministic builds
protobuf<5.0
